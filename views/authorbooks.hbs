{{!-- Code adapted from: https://github.com/osu-cs340-ecampus/nodejs-starter-app/tree/main --}}

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<h1>Author of Books Data</h1>

<form id="add-author-book-form-ajax" method="POST" action="/add-author-book-form-ajax">
    <label for="input-AuthorName">Author:</label>
    <select name="input-AuthorName" id="input-AuthorName">
      <option value="">Select an Author</option>
      {{#each authors}}
        <option value="{{this.authorID}}">{{this.authorName}}</option>
      {{/each}}
    </select>
    <label for="input-BookTitle">Book:</label>
    <select name="input-BookTitle" id="input-BookTitle">
      <option value="">Select a Book</option>
      {{#each books}}
        <option value="{{this.bookID}}">{{this.bookTitle}}</option>
      {{/each}}
    </select>
    <input type="submit">
</form>

<hr />

<h2>Author Books List</h2>
<table id="authors-books-table">
  <thead>
    <tr>
        <th>ID</th>
        <th>Author Name</th>
        <th>Book Title</th>
        <th>Delete</th>
    </tr>
  </thead>
  <tbody>
    {{#each authorbooks}}
      <tr data-value={{this.authorBookID}}>
        <td>{{this.authorBookID}}</td>
        <td>{{this.authorID}}</td>
        <td>{{this.bookID}}</td>
        <td><button onclick="deleteAuthorBook({{this.authorBookID}})">Delete</button></td>
      </tr>
    {{/each}}
  </tbody>
</table>
<script src="./js/authorbooks.js"></script>

